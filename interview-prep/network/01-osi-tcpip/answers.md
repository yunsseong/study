# OSI 7계층 / TCP/IP 면접 질문 + 답변

---

## 기본 개념

### Q1. OSI 7계층이 무엇이고, 왜 계층을 나누나요?

> OSI 7계층은 네트워크 통신 과정을 7개의 계층으로 나눈 표준 모델입니다.
> 계층을 나누는 이유는 각 계층이 독립적으로 동작하게 하기 위해서입니다.
> 한 계층을 변경해도 다른 계층에 영향을 주지 않고, 문제가 생기면 해당 계층만 확인하면 됩니다.
> 소프트웨어에서 Controller, Service, Repository를 분리하는 것과 같은 원리입니다.

---

### Q2. OSI 7계층의 각 계층 이름과 역할을 설명해주세요.

> | 계층 | 이름 | 역할 | 대표 프로토콜 |
> |------|------|------|-------------|
> | 7 | 응용 | 사용자가 쓰는 서비스 제공 | HTTP, DNS, FTP |
> | 6 | 표현 | 데이터 형식 변환, 암호화 | TLS/SSL, JPEG |
> | 5 | 세션 | 연결 유지 및 관리 | 세션 관리 |
> | 4 | 전송 | 프로세스 간 통신, 신뢰성 보장 | TCP, UDP |
> | 3 | 네트워크 | 다른 네트워크까지 경로 탐색 | IP, ICMP |
> | 2 | 데이터링크 | 같은 네트워크 내 장비 간 전송 | Ethernet, MAC |
> | 1 | 물리 | 전기 신호로 실제 전송 | 케이블, 와이파이 |

---

### Q3. TCP/IP 4계층을 설명하고, OSI 7계층과의 매핑 관계를 말해주세요.

> TCP/IP는 OSI를 실무에 맞게 4개로 합친 모델이며, 실제 인터넷이 이 모델로 동작합니다.
>
> | TCP/IP | 대응하는 OSI | 하는 일 |
> |--------|------------|--------|
> | 4. 응용 | 7, 6, 5계층 | HTTP, DNS 등 서비스 |
> | 3. 전송 | 4계층 | TCP/UDP, 포트 기반 통신 |
> | 2. 인터넷 | 3계층 | IP, 라우팅 |
> | 1. 네트워크 접근 | 2, 1계층 | Ethernet, 물리적 전송 |
>
> OSI 상위 3개(응용, 표현, 세션)가 TCP/IP에서는 응용 하나로 합쳐집니다.

---

### Q4. 캡슐화(Encapsulation)와 역캡슐화(Decapsulation)를 설명해주세요.

> 캡슐화는 데이터를 보낼 때 위 계층에서 아래 계층으로 내려가며 각 계층의 헤더가 추가되는 과정입니다.
> 역캡슐화는 받을 때 아래 계층에서 위 계층으로 올라가며 헤더를 하나씩 제거하는 과정입니다.
>
> ```
> 보낼 때 (캡슐화):
> [데이터] → [TCP헤더+데이터] → [IP헤더+TCP헤더+데이터] → [MAC헤더+IP헤더+TCP헤더+데이터]
>
> 받을 때 (역캡슐화):
> MAC 헤더 제거 → IP 헤더 제거 → TCP 헤더 제거 → [데이터]
> ```
>
> 택배에 비유하면 캡슐화는 물건을 포장하고 박스에 넣고 송장을 붙이는 것,
> 역캡슐화는 송장 확인하고 박스 열고 포장 벗기는 것입니다.

---

### Q5. PDU(Protocol Data Unit)가 무엇인가요? 각 계층별 PDU 이름을 말해주세요.

> PDU는 각 계층에서 데이터를 부르는 단위 이름입니다.
> 계층을 내려갈 때마다 헤더가 붙으면서 이름이 바뀝니다.
>
> | 계층 | PDU 이름 | 붙는 헤더 |
> |------|---------|----------|
> | 응용 | 데이터(Data) | - |
> | 전송 | 세그먼트(Segment) | TCP/UDP 헤더 |
> | 네트워크 | 패킷(Packet) | IP 헤더 |
> | 데이터링크 | 프레임(Frame) | MAC 헤더 |

---

## 비교/구분

### Q6. 2계층(데이터링크)과 3계층(네트워크)의 차이는 무엇인가요?

> 2계층은 **같은 네트워크 안에서** 장비 간 데이터를 전달하고, MAC 주소를 사용합니다.
> 3계층은 **서로 다른 네트워크 간에** 데이터를 전달하고, IP 주소를 사용하여 경로를 찾습니다.
>
> 예를 들어 같은 와이파이에 연결된 기기 간 통신은 2계층,
> 내 PC에서 구글 서버까지 전달하는 것은 3계층입니다.

---

### Q7. MAC 주소와 IP 주소의 차이를 설명해주세요.

> MAC 주소는 네트워크 장비에 고정된 물리적 주소로, 변경할 수 없습니다. (예: AA:BB:CC:DD:EE:FF)
> IP 주소는 네트워크에서 부여받는 논리적 주소로, 변경 가능합니다. (예: 192.168.0.1)
>
> MAC 주소는 주민등록번호(고유, 변경 불가)에,
> IP 주소는 집 주소(이사하면 바뀜)에 비유할 수 있습니다.
>
> 2계층에서 MAC 주소로 같은 네트워크 내 장비를 식별하고,
> 3계층에서 IP 주소로 전체 인터넷에서 목적지를 찾습니다.

---

### Q8. 3계층(네트워크)과 4계층(전송)의 차이는 무엇인가요?

> 3계층(IP)은 데이터를 목적지 **컴퓨터**까지 전달합니다.
> 4계층(TCP/UDP)은 그 컴퓨터의 **특정 프로세스(포트)**까지 전달합니다.
>
> IP 주소가 아파트 건물 주소라면, 포트 번호는 호수(101호, 102호)입니다.
> 예를 들어 서버 IP가 같아도 포트 8080은 Spring Boot, 포트 3306은 MySQL로 간다는 것을
> 4계층이 결정합니다.

---

### Q9. OSI 모델과 TCP/IP 모델은 왜 다른가요? 실제 인터넷은 어떤 모델을 따르나요?

> OSI는 이론적 표준 모델이고, TCP/IP는 실제 인터넷 프로토콜에 맞게 설계된 실무 모델입니다.
> OSI의 5, 6계층(세션, 표현)은 실무에서 거의 구분되지 않아 TCP/IP에서는 응용 계층에 합쳤습니다.
> 실제 인터넷은 TCP/IP 모델을 따르지만,
> 네트워크를 개념적으로 설명할 때는 OSI 7계층을 사용합니다.
> 면접에서는 둘 다 알아야 합니다.

---

## 심화/실무

### Q10. 브라우저에서 Spring Boot 서버로 요청이 갈 때, 각 계층에서 어떤 일이 일어나는지 설명해주세요.

> 클라이언트가 `GET http://myapp.com:8080/api/users` 를 요청하면:
>
> **보내는 쪽 (캡슐화)**:
> - 7계층: 브라우저가 HTTP 요청을 생성
> - 4계층: TCP 연결 수립, 목적지 포트 8080 지정
> - 3계층: DNS로 myapp.com의 IP를 알아내고 IP 헤더 추가
> - 2계층: MAC 주소 추가
> - 1계층: 전기 신호로 전송
>
> **받는 쪽 (역캡슐화)**:
> - 1~2계층: 신호 수신, MAC 주소 확인
> - 3계층: IP 주소 확인
> - 4계층: 포트 8080 확인 → Spring Boot 프로세스로 전달
> - 7계층: DispatcherServlet이 HTTP 요청을 받아 Controller 호출

---

### Q11. 라우터와 스위치는 각각 몇 계층 장비인가요? 차이를 설명해주세요.

> 스위치는 2계층(데이터링크) 장비로, MAC 주소를 보고 같은 네트워크 안에서 데이터를 전달합니다.
> 라우터는 3계층(네트워크) 장비로, IP 주소를 보고 다른 네트워크로 데이터를 전달합니다.
>
> 스위치는 같은 사무실 안에서 기기를 연결하는 것이고,
> 라우터는 사무실과 외부 인터넷을 연결하는 것입니다.

---

### Q12. HTTP는 몇 계층 프로토콜인가요? 그 아래 계층에서는 무엇이 동작하나요?

> HTTP는 7계층(응용) 프로토콜입니다.
> 아래에서 4계층 TCP가 신뢰성 있는 연결을 제공하고,
> 3계층 IP가 목적지까지의 라우팅을 담당합니다.
>
> 즉, HTTP → TCP → IP → Ethernet 순서로 동작하며,
> HTTP가 동작하려면 먼저 TCP 연결(3-way handshake)이 맺어져야 합니다.

---

## 꼬리질문

### Q13. "계층을 나누면 유지보수가 쉽다"고 했는데, 구체적인 예시를 들어주세요.

> 예를 들어 와이파이를 유선 이더넷으로 바꿔도(1~2계층 변경)
> HTTP 프로토콜(7계층)은 수정할 필요가 없습니다.
> 또한 HTTP/1.1에서 HTTP/2로 업그레이드해도(7계층 변경)
> TCP나 IP 계층은 그대로 동작합니다.
> 각 계층이 독립적이기 때문에 한 곳을 바꿔도 나머지가 영향을 받지 않습니다.

---

### Q14. 5, 6계층(세션, 표현)은 실무에서 왜 잘 언급되지 않나요?

> 세션 관리나 데이터 변환 기능이 현대에는 응용 계층의 프로토콜에 통합되었기 때문입니다.
> 예를 들어 TLS 암호화(6계층 역할)는 HTTP와 결합하여 HTTPS로 동작하고,
> 세션 관리(5계층 역할)도 HTTP나 애플리케이션 레벨에서 처리합니다.
> 그래서 TCP/IP 모델에서는 이들을 응용 계층에 합쳤습니다.

---

### Q15. IP 주소만으로는 왜 통신이 불완전한가요? 포트 번호가 왜 필요한가요?

> 하나의 서버에서 여러 프로그램이 동시에 실행될 수 있기 때문입니다.
> IP 주소는 컴퓨터를 식별하지만, 그 안의 어떤 프로세스에 데이터를 전달할지 알 수 없습니다.
> 포트 번호가 있어야 8080은 Spring Boot, 3306은 MySQL, 6379는 Redis로
> 정확하게 데이터를 전달할 수 있습니다.
> IP 주소가 아파트 건물이라면 포트 번호는 각 호수입니다.
